{"ast":null,"code":"var _jsxFileName = \"D:\\\\askmeidentity\\\\razorpay\\\\example2\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst __DEV__ = document.domain === \"localhost\";\n\nfunction App() {\n  _s();\n\n  let loadScript = src => {\n    return new Promise(resolve => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n\n      script.onload = () => {\n        resolve(true);\n      };\n\n      script.onerror = () => {\n        resolve(false);\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  useEffect(() => {\n    loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n  });\n\n  let displayRazorpay = async props => {\n    const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n\n    if (!res) {\n      alert(\"razorpay sdk failed to load... check internet connection\");\n      return;\n    } // const data = await fetch(\"http://localhost:1337/razorpay\", {method: \"POST\"}).then((t)=>{\n    //     t.json();\n    // });\n    // console.log(\"from backend\");\n    // console.log(data);\n\n\n    const {\n      data\n    } = await axios.post(\"http://localhost:1337/razorpay\");\n    console.log(data); // try {\n\n    const options = {\n      \"key\": __DEV__ ? \"rzp_test_VBUfO13Gq8Te8F\" : \"PRODUCTION_KEY\",\n      currency: data.currency,\n      amount: data.amount.toString(),\n      order_id: data.id,\n      \"name\": \"Donation\",\n      \"description\": \"Test Transaction\",\n      \"image\": \"http://localhost:1337/logo.svg\",\n      \"handler\": function (response) {\n        alert(response.razorpay_payment_id);\n        alert(response.razorpay_order_id);\n        alert(response.razorpay_signature);\n      },\n      \"prefill\": {\n        \"name\": \"Gaurav Kumar\",\n        \"email\": \"gaurav.kumar@example.com\",\n        \"contact\": \"9999999999\"\n      },\n      \"notes\": {\n        \"address\": \"Razorpay Corporate Office\"\n      },\n      \"theme\": {\n        \"color\": \"#3399cc\"\n      }\n    }; // }\n    // catch (error) {\n    //     console.log(error);\n    // }\n\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  };\n\n  const styles = {\n    display: \"inline-block\",\n    width: \"200px\",\n    height: \"100px\",\n    padding: \"20px\",\n    backgroundColor: \"#eee\",\n    margin: \"20px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles,\n      children: [\"Product name: t shirt\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 38\n      }, this), \"price: 300\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: \"pay 300\",\n        onClick: () => displayRazorpay(300),\n        children: \"Pay 300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles,\n      children: [\"Product name: t shirt\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 38\n      }, this), \"price: 500\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: \"pay 500\",\n        onClick: () => displayRazorpay(500),\n        children: \"Pay 500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","logo","axios","__DEV__","document","domain","App","loadScript","src","Promise","resolve","script","createElement","onload","onerror","body","appendChild","displayRazorpay","props","res","alert","data","post","console","log","options","currency","amount","toString","order_id","id","response","razorpay_payment_id","razorpay_order_id","razorpay_signature","paymentObject","window","Razorpay","open","styles","display","width","height","padding","backgroundColor","margin"],"sources":["D:/askmeidentity/razorpay/example2/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\nconst __DEV__ = document.domain === \"localhost\";\n\nfunction App() {\n    let loadScript = (src) => {\n        return new Promise((resolve)=> {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => {\n                resolve(true)\n            };\n            script.onerror = () => {\n                resolve(false);\n            };\n            document.body.appendChild(script);\n        });\n    };\n\n    useEffect(() => {\n        loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n    });\n\n    let displayRazorpay = async (props)=> {\n        const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n        if (!res) {\n            alert(\"razorpay sdk failed to load... check internet connection\");\n            return;\n        }\n\n        // const data = await fetch(\"http://localhost:1337/razorpay\", {method: \"POST\"}).then((t)=>{\n        //     t.json();\n        // });\n        // console.log(\"from backend\");\n        // console.log(data);\n\n        const {data} = await axios.post(\"http://localhost:1337/razorpay\");\n        console.log(data);\n\n        // try {\n            const options = {\n                \"key\": __DEV__ ? \"rzp_test_VBUfO13Gq8Te8F\" : \"PRODUCTION_KEY\",\n                currency: data.currency,\n                amount: data.amount.toString(),\n                order_id: data.id,\n                \"name\": \"Donation\",\n                \"description\": \"Test Transaction\",\n                \"image\": \"http://localhost:1337/logo.svg\",\n                \"handler\": function (response){\n                    alert(response.razorpay_payment_id);\n                    alert(response.razorpay_order_id);\n                    alert(response.razorpay_signature)\n                },\n                \"prefill\": {\n                    \"name\": \"Gaurav Kumar\",\n                    \"email\": \"gaurav.kumar@example.com\",\n                    \"contact\": \"9999999999\"\n                },\n                \"notes\": {\n                    \"address\": \"Razorpay Corporate Office\"\n                },\n                \"theme\": {\n                    \"color\": \"#3399cc\"\n                }\n            };\n        // }\n        // catch (error) {\n        //     console.log(error);\n        // }\n        const paymentObject = new window.Razorpay(options);\n\t\tpaymentObject.open();\n    };\n\n    const styles = {\n        display: \"inline-block\",\n        width: \"200px\", height: \"100px\",\n        padding: \"20px\",\n        backgroundColor: \"#eee\",\n        margin: \"20px\"\n    };\n   \n    return (\n        <div className=\"App\">\n            {/* <header className=\"App-header\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                <p>\n                    Edit <code>src/App.js</code> and save to reload.\n                </p>\n                <a\n                className=\"App-link\"\n                onClick={displayRazorpay}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                >\n                    Donate $5\n                </a>\n            </header> */}\n            <div style={styles}>\n                Product name: t shirt<br />\n                price: 300<br />\n                <button value=\"pay 300\" onClick={()=>displayRazorpay(300)}>Pay 300</button>\n            </div>\n            <div style={styles}>\n                Product name: t shirt<br />\n                price: 500<br />\n                <button value=\"pay 500\" onClick={()=>displayRazorpay(500)}>Pay 500</button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}