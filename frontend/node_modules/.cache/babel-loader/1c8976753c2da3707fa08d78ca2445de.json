{"ast":null,"code":"var _jsxFileName = \"D:\\\\askmeidentity\\\\razorpay\\\\example2\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst __DEV__ = document.domain === \"localhost\";\n\nfunction App() {\n  _s();\n\n  let loadScript = src => {\n    return new Promise(resolve => {\n      const script = document.createElement(\"script\");\n      script.src = src;\n\n      script.onload = () => {\n        resolve(true);\n      };\n\n      script.onerror = () => {\n        resolve(false);\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  useEffect(() => {\n    loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n  });\n\n  let displayRazorpay = async () => {\n    const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n\n    if (!res) {\n      alert(\"razorpay sdk failed to load... network error\");\n      return;\n    }\n\n    const {\n      data\n    } = await axios.post(\"http://localhost:1337/razorpay\");\n    console.log(data);\n    const options = {\n      \"key\": __DEV__ ? \"rzp_test_VBUfO13Gq8Te8F\" : \"PRODUCTION_KEY\",\n      currency: data.currency,\n      amount: data.amount.toString(),\n      order_id: data.id,\n      \"name\": \"Donation\",\n      \"description\": \"Test Transaction\",\n      \"image\": \"http://localhost:1337/logo.svg\",\n      \"handler\": function (response) {\n        // alert(response.razorpay_payment_id);\n        setPaymentId(order_id = response.razorpay_payment_id); // alert(response.razorpay_order_id);\n\n        setOrderId(order_id = response.razorpay_payment_id);\n        alert(response.razorpay_signature);\n      },\n      \"prefill\": {\n        \"name\": \"Gaurav Kumar\",\n        \"email\": \"gaurav.kumar@example.com\",\n        \"contact\": \"9999999999\"\n      },\n      \"notes\": {\n        \"address\": \"Razorpay Corporate Office\"\n      },\n      \"theme\": {\n        \"color\": \"#000\"\n      }\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n  };\n\n  const styles = {\n    display: \"inline-block\",\n    width: \"200px\",\n    height: \"100px\",\n    padding: \"20px\",\n    backgroundColor: \"#eee\",\n    margin: \"20px\"\n  };\n  const [order_id, setOrderId] = useState(\"\");\n  const [payment_id, setPaymentId] = useState(\"\");\n  const [signature, setSignature] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles,\n      children: [\"Product name: t shirt\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 38\n      }, this), \"price: 499\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: displayRazorpay,\n        children: \"Pay 499\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"razorpay_payment_id:: \", payment_id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 51\n      }, this), \"razorpay_order_id:: \", order_id, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 47\n      }, this), \"razorpay_signature:: \", signature, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 49\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"/eP7zVmseeBSn9cz8LKYKHaSPSg=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","logo","axios","__DEV__","document","domain","App","loadScript","src","Promise","resolve","script","createElement","onload","onerror","body","appendChild","displayRazorpay","res","alert","data","post","console","log","options","currency","amount","toString","order_id","id","response","setPaymentId","razorpay_payment_id","setOrderId","razorpay_signature","paymentObject","window","Razorpay","open","styles","display","width","height","padding","backgroundColor","margin","payment_id","signature","setSignature"],"sources":["D:/askmeidentity/razorpay/example2/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\n\nconst __DEV__ = document.domain === \"localhost\";\n\nfunction App() {\n    let loadScript = (src) => {\n        return new Promise((resolve)=> {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => {\n                resolve(true)\n            };\n            script.onerror = () => {\n                resolve(false);\n            };\n            document.body.appendChild(script);\n        });\n    };\n\n    useEffect(() => {\n        loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n    });\n\n    let displayRazorpay = async ()=> {\n        const res = await loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");\n        if (!res) {\n            alert(\"razorpay sdk failed to load... network error\");\n            return;\n        }\n\n        const {data} = await axios.post(\"http://localhost:1337/razorpay\");\n        console.log(data);\n\n        const options = {\n            \"key\": __DEV__ ? \"rzp_test_VBUfO13Gq8Te8F\" : \"PRODUCTION_KEY\",\n            currency: data.currency,\n            amount: data.amount.toString(),\n            order_id: data.id,\n            \"name\": \"Donation\",\n            \"description\": \"Test Transaction\",\n            \"image\": \"http://localhost:1337/logo.svg\",\n            \"handler\": function (response){\n                // alert(response.razorpay_payment_id);\n                setPaymentId(order_id = response.razorpay_payment_id);\n                // alert(response.razorpay_order_id);\n                setOrderId(order_id = response.razorpay_payment_id);\n                alert(response.razorpay_signature)\n            },\n            \"prefill\": {\n                \"name\": \"Gaurav Kumar\",\n                \"email\": \"gaurav.kumar@example.com\",\n                \"contact\": \"9999999999\"\n            },\n            \"notes\": {\n                \"address\": \"Razorpay Corporate Office\"\n            },\n            \"theme\": {\n                \"color\": \"#000\"\n            }\n        };\n        const paymentObject = new window.Razorpay(options);\n\t\tpaymentObject.open();\n    };\n\n    const styles = {\n        display: \"inline-block\",\n        width: \"200px\", height: \"100px\",\n        padding: \"20px\",\n        backgroundColor: \"#eee\",\n        margin: \"20px\"\n    };\n\n    const [order_id, setOrderId] = useState(\"\");\n    const [payment_id, setPaymentId] = useState(\"\");\n    const [signature, setSignature] = useState(\"\");\n   \n    return (\n        <div className=\"App\">\n            <div style={styles}>\n                Product name: t shirt<br />\n                price: 499<br />\n                <button onClick={displayRazorpay}>Pay 499</button>\n            </div>\n            <div>\n                razorpay_payment_id:: {payment_id}<br />\n                razorpay_order_id:: {order_id}<br />\n                razorpay_signature:: {signature}<br />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,OAAO,GAAGC,QAAQ,CAACC,MAAT,KAAoB,WAApC;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACX,IAAIC,UAAU,GAAIC,GAAD,IAAS;IACtB,OAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAY;MAC3B,MAAMC,MAAM,GAAGP,QAAQ,CAACQ,aAAT,CAAuB,QAAvB,CAAf;MACAD,MAAM,CAACH,GAAP,GAAaA,GAAb;;MACAG,MAAM,CAACE,MAAP,GAAgB,MAAM;QAClBH,OAAO,CAAC,IAAD,CAAP;MACH,CAFD;;MAGAC,MAAM,CAACG,OAAP,GAAiB,MAAM;QACnBJ,OAAO,CAAC,KAAD,CAAP;MACH,CAFD;;MAGAN,QAAQ,CAACW,IAAT,CAAcC,WAAd,CAA0BL,MAA1B;IACH,CAVM,CAAP;EAWH,CAZD;;EAcAX,SAAS,CAAC,MAAM;IACZO,UAAU,CAAC,8CAAD,CAAV;EACH,CAFQ,CAAT;;EAIA,IAAIU,eAAe,GAAG,YAAW;IAC7B,MAAMC,GAAG,GAAG,MAAMX,UAAU,CAAC,8CAAD,CAA5B;;IACA,IAAI,CAACW,GAAL,EAAU;MACNC,KAAK,CAAC,8CAAD,CAAL;MACA;IACH;;IAED,MAAM;MAACC;IAAD,IAAS,MAAMlB,KAAK,CAACmB,IAAN,CAAW,gCAAX,CAArB;IACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;IAEA,MAAMI,OAAO,GAAG;MACZ,OAAOrB,OAAO,GAAG,yBAAH,GAA+B,gBADjC;MAEZsB,QAAQ,EAAEL,IAAI,CAACK,QAFH;MAGZC,MAAM,EAAEN,IAAI,CAACM,MAAL,CAAYC,QAAZ,EAHI;MAIZC,QAAQ,EAAER,IAAI,CAACS,EAJH;MAKZ,QAAQ,UALI;MAMZ,eAAe,kBANH;MAOZ,SAAS,gCAPG;MAQZ,WAAW,UAAUC,QAAV,EAAmB;QAC1B;QACAC,YAAY,CAACH,QAAQ,GAAGE,QAAQ,CAACE,mBAArB,CAAZ,CAF0B,CAG1B;;QACAC,UAAU,CAACL,QAAQ,GAAGE,QAAQ,CAACE,mBAArB,CAAV;QACAb,KAAK,CAACW,QAAQ,CAACI,kBAAV,CAAL;MACH,CAdW;MAeZ,WAAW;QACP,QAAQ,cADD;QAEP,SAAS,0BAFF;QAGP,WAAW;MAHJ,CAfC;MAoBZ,SAAS;QACL,WAAW;MADN,CApBG;MAuBZ,SAAS;QACL,SAAS;MADJ;IAvBG,CAAhB;IA2BA,MAAMC,aAAa,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBb,OAApB,CAAtB;IACNW,aAAa,CAACG,IAAd;EACG,CAvCD;;EAyCA,MAAMC,MAAM,GAAG;IACXC,OAAO,EAAE,cADE;IAEXC,KAAK,EAAE,OAFI;IAEKC,MAAM,EAAE,OAFb;IAGXC,OAAO,EAAE,MAHE;IAIXC,eAAe,EAAE,MAJN;IAKXC,MAAM,EAAE;EALG,CAAf;EAQA,MAAM,CAACjB,QAAD,EAAWK,UAAX,IAAyBlC,QAAQ,CAAC,EAAD,CAAvC;EACA,MAAM,CAAC+C,UAAD,EAAaf,YAAb,IAA6BhC,QAAQ,CAAC,EAAD,CAA3C;EACA,MAAM,CAACgD,SAAD,EAAYC,YAAZ,IAA4BjD,QAAQ,CAAC,EAAD,CAA1C;EAEA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA,wBACI;MAAK,KAAK,EAAEwC,MAAZ;MAAA,iDACyB;QAAA;QAAA;QAAA;MAAA,QADzB,6BAEc;QAAA;QAAA;QAAA;MAAA,QAFd,eAGI;QAAQ,OAAO,EAAEtB,eAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAMI;MAAA,qCAC2B6B,UAD3B,eACsC;QAAA;QAAA;QAAA;MAAA,QADtC,0BAEyBlB,QAFzB,eAEkC;QAAA;QAAA;QAAA;MAAA,QAFlC,2BAG0BmB,SAH1B,eAGoC;QAAA;QAAA;QAAA;MAAA,QAHpC;IAAA;MAAA;MAAA;MAAA;IAAA,QANJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH;;GAtFQzC,G;;KAAAA,G;AAwFT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}